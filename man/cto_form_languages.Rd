% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cto_form_files.R
\name{cto_form_languages}
\alias{cto_form_languages}
\alias{cto_form_stata_template}
\alias{cto_form_printable}
\alias{cto_form_mail_template}
\title{Download Form Files and Templates}
\usage{
cto_form_languages(req, form_id)

cto_form_stata_template(
  req,
  form_id,
  dir = getwd(),
  lang = NULL,
  csv_dir = NULL,
  dta_dir = NULL
)

cto_form_printable(
  req,
  form_id,
  dir = getwd(),
  lang = NULL,
  relevancies = FALSE,
  constraints = FALSE
)

cto_form_mail_template(
  req,
  form_id,
  dir = getwd(),
  type = 2,
  group_names = FALSE
)
}
\arguments{
\item{req}{A \code{httr2_request} object initialized via \code{\link[=cto_request]{cto_request()}}.}

\item{form_id}{Character string. The unique ID of the SurveyCTO form.}

\item{dir}{String. The directory where downloaded files will be saved.
Defaults to the current working directory.}

\item{lang}{String. The language identifier to be used (e.g., \code{"English"}).
If \code{NULL}, the form's default language is used.}

\item{csv_dir}{String. The directory where the CSV data file is saved.
This path is embedded into the downloaded Stata do-file to automate data loading.}

\item{dta_dir}{String. The directory where the Stata \code{.dta} dataset should be saved.}

\item{relevancies}{Logical. If \code{TRUE}, includes relevance logic (skip patterns) in
the printable view. Defaults to \code{FALSE}.}

\item{constraints}{Logical. If \code{TRUE}, includes constraint logic in the printable view.
Defaults to \code{FALSE}.}

\item{type}{Integer (0-2). The format type of the mail merge template.
Defaults to \code{2}.
\itemize{
\item \code{0}: Field names
\item \code{1}: Field labels
\item \code{2}: Both field names and labels
}}

\item{group_names}{Logical. If \code{TRUE}, includes group names in the variable headers.
Defaults to \code{FALSE}.}
}
\value{
\itemize{
\item \code{cto_form_languages()}: A list containing available languages and the default language index.
\item All other functions: The local file path of the downloaded file, returned invisibly.
}
}
\description{
These functions facilitate the retrieval of form-specific assets and templates from the server.
\itemize{
\item \code{\link[=cto_form_languages]{cto_form_languages()}}: Retrieves the list of languages defined in the form.
\item \code{\link[=cto_form_stata_template]{cto_form_stata_template()}}: Downloads a Stata \code{.do} file template for importing form data.
\item \code{\link[=cto_form_printable]{cto_form_printable()}}: Downloads a printable (HTML) version of the form definition.
\item \code{\link[=cto_form_mail_template]{cto_form_mail_template()}}: Downloads a mail merge template for the form.
}
}
\examples{
\dontrun{
# Authenticate
req <- cto_auth("my_server", "user", "password")
form <- "household_survey"

# 1. Check available languages
langs <- cto_form_languages(req, form)
print(langs)

# 2. Download a Stata template
# We specify where the CSV will eventually be located so the .do file is ready to run
cto_form_stata_template(
  req,
  form_id = form,
  dir = "downloads/",
  csv_dir = "C:/Data",
  dta_dir = "C:/Data"
)

# 3. Download a printable version with logic shown
cto_form_printable(
  req,
  form_id = form,
  dir = "documentation/",
  relevancies = TRUE,
  constraints = TRUE
)

# 4. Download a mail merge template
cto_form_mail_template(
  req,
  form_id = form,
  dir = "templates/",
  type = 2
)
}

}
